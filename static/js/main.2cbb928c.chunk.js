(this["webpackJsonpadmin-ui"]=this["webpackJsonpadmin-ui"]||[]).push([[0],{23:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(4),i=n.n(s),c=(n(23),n(9)),l=n(11),o=n.n(l),u=n(13),d=n(5),m=n(6),h=n(8),p=n(7),b=n(14),j=n.n(b),y=n(18),x=n(12),g=n(15),E=n(17),f=n(16),N=(n(45),n(1)),O=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={id:"",updatedName:"",updatedEmail:"",updatedRole:""},e.renderPopup=function(){return Object(N.jsx)(g.a,{className:"popup-content",position:"left center",trigger:Object(N.jsx)("button",{className:"entry-edit-button",type:"button",children:Object(N.jsx)(f.a,{size:"18px"})}),children:function(t){return Object(N.jsxs)("form",{onSubmit:e.onSubmitEditEntryForm,className:"entry-edit-form-container",children:[Object(N.jsx)("h1",{className:"update-entry-form-heading",children:"Enter Details Here"}),Object(N.jsx)("label",{htmlFor:"entryName",className:"entry-edit-form-label",children:"NAME"}),Object(N.jsx)("input",{type:"text",id:"entryName",className:"entry-edit-form-input",onChange:e.onChangeEntryName}),Object(N.jsx)("label",{htmlFor:"entryEmail",className:"entry-edit-form-label",children:"EMAIL"}),Object(N.jsx)("input",{type:"email",id:"entryEmail",className:"entry-edit-form-input",onChange:e.onChangeEntryEmail}),Object(N.jsx)("label",{htmlFor:"entryRole",className:"entry-edit-form-label",children:"ROLE"}),Object(N.jsx)("input",{type:"text",id:"entryRole",className:"entry-edit-form-input",onChange:e.onChangeEntryRole}),Object(N.jsxs)("div",{className:"popup-buttons-container",children:[Object(N.jsx)("button",{type:"submit",className:"update-entry-button",children:"Update Entry"}),Object(N.jsx)("button",{type:"button",className:"popup-cancel-button",onClick:t,children:"Close"})]})]})}})},e.onSubmitEditEntryForm=function(t){t.preventDefault();var n=e.props,a=n.onUpdateEntryDetails,r=n.eachEntry,s=e.state,i=s.updatedName,c=s.updatedEmail,l=s.updatedRole;a(r,{id:r.id,name:i,email:c,role:l})},e.onChangeEntryName=function(t){e.setState({updatedName:t.target.value})},e.onChangeEntryEmail=function(t){e.setState({updatedEmail:t.target.value})},e.onChangeEntryRole=function(t){e.setState({updatedRole:t.target.value})},e.onClickDeleteButton=function(){var t=e.props,n=t.eachEntry,a=t.deleteEntry;alert("Do You Want To Delete Entry With Name: ".concat(n.name)),a(n.id)},e.onChangeCheckBox=function(t){var n=e.props,a=n.eachEntry,r=n.selectEntry,s=n.unselectEntry;t.target.checked?r(a):s(a.id)},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.eachEntry,n=void 0!==e.selectedEntries.find((function(e){return e.id===t.id})),a=n?"selected-entry-background-color":"unselected-entry-background-color";return Object(N.jsxs)("li",{className:"entries-list-item ".concat(a),children:[Object(N.jsxs)("div",{className:"list-item-container ",children:[Object(N.jsx)("input",{type:"checkbox",className:"list-item-checkbox-input",checked:n,onChange:this.onChangeCheckBox}),Object(N.jsx)("p",{className:"list-item-text",children:t.name}),Object(N.jsx)("p",{className:"list-item-text",children:t.email}),Object(N.jsx)("p",{className:"list-item-text",children:t.role}),Object(N.jsxs)("div",{className:"list-item-icons",children:[this.renderPopup(),Object(N.jsx)("button",{className:"entry-delete-button",type:"button",onClick:this.onClickDeleteButton,children:Object(N.jsx)(E.a,{size:"22px",color:"red"})})]})]}),Object(N.jsx)("hr",{className:"entry-item-bottom-line"})]})}}]),n}(a.Component),v=O,C=(n(47),"INITIAL"),S="SUCCESS",I="FAILURE",k="IN_PROGRESS",D=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={apiStatus:C,entriesData:[],searchedDisplayEntries:[],selectedEntries:[],searchInput:"",itemsRange:10,startItemNumber:0,endItemNumber:10,currentPageNumber:1,headInputCheckedStatus:!1},e.getEntriesDataFromApi=Object(u.a)(o.a.mark((function t(){var n,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:k}),"https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json",n={method:"GET"},t.next=5,fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json",n);case 5:if(!(a=t.sent).ok){t.next=13;break}return t.next=9,a.json();case 9:r=t.sent,e.setState({entriesData:r,apiStatus:S}),t.next=14;break;case 13:e.setState({apiStatus:I});case 14:case"end":return t.stop()}}),t)}))),e.displayPreviousPage=function(){var t=e.state,n=t.currentPageNumber,a=t.itemsRange;n>1&&e.setState((function(e){return{startItemNumber:e.startItemNumber-a,endItemNumber:e.endItemNumber-a,currentPageNumber:e.currentPageNumber-1,headInputCheckedStatus:!1}}))},e.displayNextPage=function(){var t=e.state,n=t.entriesData,a=t.searchedDisplayEntries,r=t.searchInput,s=t.itemsRange,i=t.currentPageNumber,c=(0!==r.length?a:n).length,l=Math.ceil(c/s),o=1;0!==l&&(o=l),i<o&&e.setState((function(e){return{startItemNumber:e.startItemNumber+s,endItemNumber:e.endItemNumber+s,currentPageNumber:e.currentPageNumber+1,headInputCheckedStatus:!1}}))},e.onChangeSearchInput=function(t){var n=e.state.entriesData,a=[];n.map((function(e){return(e.name.toLowerCase().includes(t.target.value.toLowerCase())||e.email.toLowerCase().includes(t.target.value.toLowerCase())||e.role.toLowerCase().includes(t.target.value.toLowerCase()))&&a.push(e),null})),e.setState({searchInput:t.target.value,searchedDisplayEntries:a})},e.deleteEntry=function(t){var n=e.state,a=n.entriesData,r=n.searchedDisplayEntries,s=a.filter((function(e){return e.id!==t})),i=r.filter((function(e){return e.id!==t}));e.setState({entriesData:s,searchedDisplayEntries:i})},e.selectEntry=function(t){e.setState((function(e){return{selectedEntries:[].concat(Object(c.a)(e.selectedEntries),[t])}}))},e.unselectEntry=function(t){var n=e.state.selectedEntries.filter((function(e){return e.id!==t}));e.setState({selectedEntries:n})},e.deleteSelectedItems=function(){alert("Selected Entries Will Be Deleted From The Entries List...");var t=e.state,n=t.entriesData,a=t.searchedDisplayEntries,r=t.selectedEntries,s=n;r.map((function(e){var t=s.indexOf(e);return s.splice(t,1),null}));var i=a;r.map((function(e){var t=i.indexOf(e);return i.splice(t,1),null})),e.setState({entriesData:s,searchedDisplayEntries:i,selectedEntries:[],headInputCheckedStatus:!1})},e.onCheckHeadInput=function(t){var n=e.state,a=n.searchInput,r=n.entriesData,s=n.searchedDisplayEntries,i=n.selectedEntries,l=n.startItemNumber,o=n.endItemNumber,u=t.target.checked,d=(0!==a.length?s:r).slice(l,o);if(u)e.setState((function(e){return{selectedEntries:[].concat(Object(c.a)(e.selectedEntries),Object(c.a)(d)),headInputCheckedStatus:!0}}));else{var m=i,h=[];m.map((function(e){var t=m.indexOf(e);return h=m.slice(t,1),null})),e.setState({selectedEntries:h,headInputCheckedStatus:!1})}},e.onUpdateEntryDetails=function(t,n){var a=e.state,r=a.entriesData,s=a.searchedDisplayEntries,i=r,c=i.indexOf(t);i.splice(c,1,n);var l=s,o=l.indexOf(t);l.splice(o,1,n),e.setState({entriesData:i,searchedDisplayEntries:l})},e.renderLoader=function(){return Object(N.jsx)("div",{className:"loader-container",children:Object(N.jsx)(j.a,{type:"TailSpin",color:"#000000",height:80,width:80})})},e.renderPaginationContainer=function(){var t=e.state,n=t.entriesData,a=t.searchedDisplayEntries,r=t.searchInput,s=t.itemsRange,i=t.currentPageNumber,c=(0!==r.length?a:n).length,l=Math.ceil(c/s),o=1;return 0!==l&&(o=l),Object(N.jsxs)("div",{className:"home-pagination-buttons-container",children:[Object(N.jsx)("button",{className:"pagination-button",type:"button",onClick:e.displayPreviousPage,children:Object(N.jsx)(x.a,{size:"30px"})}),Object(N.jsx)("p",{className:"current-page-number",children:"Page ".concat(i," Of ").concat(o," Pages")}),Object(N.jsx)("button",{className:"pagination-button",type:"button",onClick:e.displayNextPage,children:Object(N.jsx)(x.b,{size:"30px"})})]})},e.renderEntriesList=function(){var t=e.state,n=t.entriesData,a=t.searchedDisplayEntries,r=t.searchInput,s=t.selectedEntries,i=t.startItemNumber,c=t.endItemNumber,l=t.headInputCheckedStatus,o=0!==r.length?a:n,u=0!==o.length,d=o.length>10?o.slice(i,c):o;return Object(N.jsxs)("div",{className:"entries-list-container",children:[Object(N.jsxs)("div",{className:"entries-list-headings-container",children:[Object(N.jsx)("input",{type:"checkbox",className:"list-checkbox-input",checked:l,onChange:e.onCheckHeadInput}),Object(N.jsx)("p",{className:"list-heading-text",children:"Name"}),Object(N.jsx)("p",{className:"list-heading-text",children:"Email"}),Object(N.jsx)("p",{className:"list-heading-text",children:"Role"}),Object(N.jsx)("p",{className:"list-heading-text",children:"Actions"})]}),Object(N.jsx)("hr",{className:"entry-head-bottom-line"}),Object(N.jsx)("ul",{className:"home-entries-list",children:u?d.map((function(t){return Object(N.jsx)(v,{eachEntry:t,deleteEntry:e.deleteEntry,selectEntry:e.selectEntry,unselectEntry:e.unselectEntry,selectedEntries:s,headInputCheckedStatus:l,onUpdateEntryDetails:e.onUpdateEntryDetails},t.id)})):Object(N.jsx)("h1",{className:"empty-entries-message-heading",children:"No Entry Is Left..."})}),Object(N.jsxs)("div",{className:"entries-delete-button-pagination-container",children:[Object(N.jsx)("button",{className:"delete-selected-items-button",type:"button",onClick:e.deleteSelectedItems,children:"Delete Selected"}),e.renderPaginationContainer()]})]})},e.renderFailureView=function(){return Object(N.jsxs)("div",{className:"api-failure-view-container",children:[Object(N.jsx)(y.a,{size:"60px"}),Object(N.jsx)("h1",{className:"api-failure-heading",children:"Network Error"}),Object(N.jsx)("p",{className:"api-failure-text",children:"Sorry For The Inconvenience..."})]})},e.renderEntriesListContainer=function(){switch(e.state.apiStatus){case I:return e.renderFailureView();case k:return e.renderLoader();case S:return e.renderEntriesList();default:return null}},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.getEntriesDataFromApi()}},{key:"render",value:function(){return Object(N.jsxs)("div",{className:"home-bg-container",children:[Object(N.jsx)("h1",{className:"home-app-heading",children:"Geektrust Admin UI Challenge"}),Object(N.jsxs)("div",{className:"home-content-container",children:[Object(N.jsx)("input",{className:"home-search-input",placeholder:"Search by name email or role",type:"text",onChange:this.onChangeSearchInput}),this.renderEntriesListContainer()]})]})}}]),n}(a.Component),P=D;n(48);var w=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(P,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(w,{})}),document.getElementById("root")),L()}},[[49,1,2]]]);
//# sourceMappingURL=main.2cbb928c.chunk.js.map